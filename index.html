<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <title>Dopplin's player</title>
</head>
<body>
    <div class="music-container">
    
        <h1 id="playlist-name">Nome da Playlist</h1>
    <img id="cover" alt="Disc Cover">
    <audio id="audio"></audio>
    <div id="below-cover">
    <div id="song-info">
    <div id="name-song">nome da musica</div>
    <div id="name-singer">nome do autor</div>
    </div>
    <button id="like" class="button"><i class="bi bi-heart"></i></button>
    </div>
    <div id="progress-bar">
        <div id="current-progress"></div>
    </div>
   <div id="navegation-container">
    <button id="shuffle" class="button"><i class="bi bi-shuffle"></i></button>
    <button id="previous"  class="button button-navegation"><i class="bi bi-skip-start-circle-fill"></i></button>
    <button id="play"  class="button button-biggest"><i class="bi bi-play-circle-fill"></i></button>
    <button id="next"  class="button  button-navegation"><i class="bi bi-skip-end-circle-fill"></i></button>
    <button id="repeat"  class="button"><i class="bi bi-repeat"></i></button>
</div>
</div>

<!-- javascript -->
<script>
    const songName = document.getElementById('name-song');
    const playname = document.getElementById('playlist-name')
    const nameSinger = document.getElementById('name-singer');
    const song = document.getElementById('audio');
    const cover = document.getElementById('cover');
    const play = document.getElementById('play');
    const next = document.getElementById('next');
    const previous = document.getElementById('previous');
    
    
    const MinhaHeroina = {
        songName : 'Minha Heroína',
        artist : 'Dopplin',
        file :  'minha heroína',
    };
    
    const malditoAmor = {
        songName : 'Maldito Amor',
        artist : 'Dopplin',
        file :  'maldito amor',
    };
    const vamosSair = {
        songName : 'Vamos Sair',
        artist : 'Dopplin',
        file :  'vamos sair',
    };

    const playlist = [MinhaHeroina, malditoAmor, vamosSair];
    let index = 0; 


    let isplaying = false; 
    playname.innerText = 'Dopplin\'s Player'
    songName.innerText = 'Minha heroína';



   
function playSong(){
       play.querySelector('.bi').classList.remove('bi-play-circle-fill');
       play.querySelector('.bi').classList.add('bi-pause-circle-fill');
        song.play();
        isplaying = true;
    }
    
    function pauseSong(){
       play.querySelector('.bi').classList.add('bi-play-circle-fill');
       play.querySelector('.bi').classList.remove('bi-pause-circle-fill');
        song.pause();
        isplaying = false;
    }

    function playPauseDecider(){
        if(isplaying === true){
            pauseSong();
        }

        else {
            playSong();
        }
    }

    function nodeSong(){
        cover.src = `images/${playlist[index].file}.webp`;
        song.src = `songs/${playlist[index].file}.mp3`;
        songName.innerText = playlist[index].songName;
        nameSinger.innerText = playlist[index].artist
    }

    function previousSong(){
        if(index === 0 ){
            index = playlist.length - 1;
        }

        else {
            index -= 1;
        }

        nodeSong();
        playSong();
    }
    
    function nextSong(){
        if(index === playlist.length - 1 ){
            index = 0;
        }

        else {
            index += 1;
        }

        nodeSong();
        playSong();
    }
    

    nodeSong();
        
    

    play.addEventListener('click', playPauseDecider);

    previous.addEventListener('click', previousSong )
    next.addEventListener('click', nextSong);
   
  
  
  
</script>
</body>

</html>
